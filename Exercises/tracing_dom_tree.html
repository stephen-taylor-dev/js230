<!doctype html>
<html>
  <head>
    <title>Tree Slicing</title>
  </head>
  <body>
    <article id="1">1
      <header id="2">2
        <span id="3">3
          <a href="#" id="4">4</a>
        </span>
      </header>
      <main id="5">5
        <section id="6">6
          <p id="7">7
            <span id="8">8
              <strong id="9">9
                <a href="#" id="10">10</a>
              </strong>
            </span>
          </p>
        </section>
        <section id="11">11
          <p id="12">12
            <span id="13">13
              <strong id="14">14
                <a href="#" id="15">15</a>
              </strong>
            </span>
          </p>
          <p id="16">16
            <span id="17">17
              <strong id="18">18
                <a href="#" id="19">19</a>
              </strong>
            </span>
            <span id="20">20
              <strong id="21">21
                <a href="#" id="22">22</a>
              </strong>
            </span>
          </p>
        </section>
      </main>
      <footer id="23">23
        <p id="24">24</p>
      </footer>
    </article>
    <script>
        function ancestorIsBody(node) {
            let located = false;
            let currentElement = node;

            while (!located && currentElement && currentElement.nodeName !== 'HTML') {
                if (currentElement.nodeName === 'BODY') {
                    located = true;
                }
                currentElement = currentElement.parentNode;
            }
            
            return located;
        }

        // function walkTree(node, callback) {
        //     if (callback(node)) return true;

        //     for (let i = 0; i < node.children.length; i += 1) {
        //         if (walkTree(node.children[i], func)) return true;;
        //     }

        //     return false;
        // }

        // let found = walkTree(startElement, (node) => {
            //     tagNames.push(node.tagName);
            //     return node === endElement;
            // });

        function sliceTree(start, end) {
            let startElement = document.getElementById(start);
            let endElement = document.getElementById(end);

            if ((!startElement || !endElement) &&
                (!ancestorIsBody(startElement) || !ancestorIsBody(endElement))) {
                return undefined;
            }

            // start at last element and naviaget up parent nodes untile found startElement
            let currentElement = endElement;
            let tagNames = [];

            do {
                tagNames.push(currentElement.tagName);
                currentElement = currentElement.parentElement;
            } while (currentElement !== startElement && currentElement.nodeName !== 'BODY');

            
            tagNames.push(startElement.nodeName);
            return currentElement.tagName === 'BODY' ? undefined : tagNames.reverse();
        }

        console.log(sliceTree(1, 4));
        console.log(sliceTree(1, 76));
        console.log(sliceTree(2, 5));
        console.log(sliceTree(5, 4));
        console.log(sliceTree(1, 23));
        console.log(sliceTree(1, 22));
        console.log(sliceTree(11, 19));
    </script>
  </body>
</html>